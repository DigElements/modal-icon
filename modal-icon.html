<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<!--
A polymer web component that shows a modular polymer paper-icon-button that can change between the expand icon, the collapse icon, and a given icon.

Example:

        <modal-icon
          icon="icons:polymer"
          icon-style-class="style-class"
          show-icon="[[hovering]]"
          openable
          open="[[open]]">
        </modal-icon>

@demo demo/index.html
-->

<dom-module id="modal-icon">
  <template>
    <style>
      :host {
        display: flex;
        align-items: center;
      }

      .hide {
        display: none;
      }

      .show {
        display: block;
      }
    </style>

    <paper-icon-button class$="[[_showOrHideCustomIcon(showIcon, openable)]] [[iconStyleClass]]" icon$="[[icon]]" noink="[[ripple]]"></paper-icon-button>
    <paper-icon-button class$="[[_showOrHideOpenedIcon(showIcon, openable, open)]]" icon="icons:expand-less" noink="[[ripple]]"></paper-icon-button>
    <paper-icon-button class$="[[_showOrHideClosedIcon(showIcon, openable, open)]]" icon="icons:expand-more" noink="[[ripple]]"></paper-icon-button>
  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'modal-icon',

      properties: {
        /**
         * A polymer paper-icon-button string.
         */
        icon: {
          type: String,
          value: ''
        },

        /**
         * The style class for the given icon.
         */
        iconStyleClass: {
          type: String,
          value: ''
        },

        /**
         * Whether to show the given icon (override the expand and collapse icons).
         */
        showIcon: {
          type: Boolean,
          value: false
        },

        /**
         * Whether this modal-icon is openable (to show the expand and collapse icons).
         */
        openable: {
          type: Boolean,
          value: false
        },

        /**
         * Whether this modal-icon is open.
         */
        open: {
          type: Boolean,
          value: false
        },

        /**
         * Whether to show the polymer button ripple effect.
         */
        ripple: {
          type: Boolean,
          value: false
        }
      },

      /**
       * Returns the style class for the given custom icon based on whether to show the custom icon and whether this modal-item is openable.
       */
      _showOrHideCustomIcon: function(showIcon, openable) {
        return (showIcon || !openable) ? 'show' : 'hide';
      },

      /**
       * Returns the style class for the collapse icon based on whether to show the custom icon, whether this modal-item is openable, and whether it is open.
       */
      _showOrHideOpenedIcon: function(showIcon, openable, open) {
        return (!showIcon && openable && open) ? 'show' : 'hide';
      },

      /**
       * Returns the style class for the expand icon based on whether to show the custom icon, whether this modal-item is openable, and whether it is open.
       */
      _showOrHideClosedIcon: function(showIcon, openable, open) {
        return (!showIcon && openable && !open) ? 'show' : 'hide';
      }
    });
  })();
  </script>
</dom-module>
